---
description: Vue3/Nuxt4/TypeScript 开发规范 - 前端代码约束
globs: '**/*.{vue,ts,tsx}'
alwaysApply: false
---

# Vue3/Nuxt4/TypeScript 开发规范

## Composition API 规范

```typescript
// ✅ 推荐：使用 <script setup>
<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'

// Props 定义
const props = defineProps<{
  title: string
  count?: number
}>()

// Emits 定义
const emit = defineEmits<{
  (e: 'update', value: string): void
  (e: 'close'): void
}>()

// 响应式数据
const loading = ref(false)
const displayTitle = computed(() => props.title.toUpperCase())

// 生命周期
onMounted(() => {
  // 初始化逻辑
})
</script>
```

## 组件结构顺序

```vue
<script setup lang="ts">
// 1. 导入
// 2. Props/Emits 定义
// 3. 响应式数据 (ref, reactive)
// 4. 计算属性 (computed)
// 5. 监听器 (watch, watchEffect)
// 6. 生命周期钩子
// 7. 方法
</script>

<template>
  <!-- 模板内容 -->
</template>

<style lang="scss" scoped>
/* 样式 */
</style>
```

## Nuxt4 目录约定

```
daniel-web/
├── app/
│   ├── components/    # 自动导入组件
│   ├── composables/   # 自动导入组合式函数
│   ├── layouts/       # 布局组件
│   ├── pages/         # 路由页面
│   ├── plugins/       # 插件
│   └── utils/         # 工具函数
├── server/            # 服务端 API
├── public/            # 静态资源
└── nuxt.config.ts     # 配置文件
```

## TypeScript 规范

```typescript
// ✅ 使用接口定义类型
interface User {
  id: string
  name: string
  email?: string
}

// ✅ 使用类型别名定义联合类型
type Status = 'pending' | 'active' | 'disabled'

// ✅ 使用 const 断言
const ROLES = ['admin', 'user', 'guest'] as const
type Role = (typeof ROLES)[number]

// ❌ 禁止使用 any
// ❌ 禁止使用 @ts-ignore
```

## 命名约定

| 类型        | 规范                | 示例              |
| ----------- | ------------------- | ----------------- |
| 组件        | PascalCase          | `UserCard.vue`    |
| Composables | camelCase + use前缀 | `useUserStore.ts` |
| 工具函数    | camelCase           | `formatDate.ts`   |
| 常量        | UPPER_SNAKE_CASE    | `MAX_PAGE_SIZE`   |
| 类型/接口   | PascalCase          | `UserProfile`     |
